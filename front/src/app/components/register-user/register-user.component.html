
<div class="container">
  <mat-card>
    <mat-card-header>
      <h1>Register User</h1>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="registerForm">
        <mat-form-field>
          <mat-label for="name">Name:</mat-label>
          <input matInput type="text" formControlName="name" [(ngModel)]="name" name="name" [ngClass]="{
                'is-invalid':
                  registerForm.controls['name'].hasError('required')
              }">
          <mat-error *ngIf="registerForm.hasError('required', 'name')">
            Please enter your name
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label for="email">Email:</mat-label>
          <input matInput type="email" formControlName="email" [(ngModel)]="email" name="email" [ngClass]="{
                'is-invalid':
                  registerForm.controls['email'].hasError('required') ||
                  registerForm.controls['email'].hasError('pattern')
              }">
          <mat-error *ngIf="registerForm.hasError('required', 'email')">
            Please enter your email
          </mat-error>
          <mat-error *ngIf="registerForm.hasError('pattern', 'email')">
            Please enter a valid email
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label for="password">Password:</mat-label>
          <input matInput type="password" formControlName="password" [(ngModel)]="password" name="password" [ngClass]="{
                'is-invalid':
                  registerForm.controls['password'].hasError('required') ||
                  registerForm.controls['password'].hasError('minlength')
              }">
          <mat-error *ngIf="registerForm.hasError('required', 'password')">
            Please enter your new password
          </mat-error>
          <mat-error *ngIf="registerForm.hasError('minlength', 'password')">
            Password must be at least 6 characters
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <mat-label for="password">Confirm password:</mat-label>
          <input matInput type="password" formControlName="confirmPassword" [(ngModel)]="confirmPassword" name="confirmPassword" [errorStateMatcher]="matcher">
          <mat-error *ngIf="registerForm.hasError('notSame')">
            Passwords do not match
          </mat-error>
        </mat-form-field>
        <button mat-raised-button color="primary" (click)="createUser()">Create User</button>
      </form>
    </mat-card-content>
  </mat-card>
</div>

